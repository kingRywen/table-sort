!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TableSort=t():e.TableSort=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(2);var s=void 0;try{s=Symbol("sortFunc")}catch(e){s="sortFunc"}var a=function(e,t,n){try{document.createElement("div").addEventListener&&(n=function(e,t,n){e.addEventListener(t,n,!1)})}catch(e){n=function(e,t,n){e.attachEvent("on"+t,n)}}return n}(),l=function(){function e(t){r(this,e),this.el=t,this.isSort=[],this.originSort=Array.prototype.slice.call(this.el.tBodies[0].children,0),this.theadEls=Array.prototype.slice.call(this.el.firstElementChild.children[0].children,0),this.init()}return i(e,[{key:s,value:function(e,t,n){var r=this,i=[],s=[],a=[];if(this.isSort[e])if(""===this.theadEls[e].getElementsByTagName("span")[0].firstChild.className){this.theadEls[e].getElementsByTagName("span")[0].firstChild.className="live",this.theadEls[e].getElementsByTagName("span")[0].lastChild.className="";for(var l=t.length-1;l>-1;l--){var o=t[l];this.el.tBodies[0].appendChild(o)}}else this.theadEls[e].getElementsByTagName("span")[0].firstChild.className="",this.theadEls[e].getElementsByTagName("span")[0].lastChild.className="",this.originSort.forEach(function(e){r.el.tBodies[0].appendChild(e)}),this.isSort[e]=!1;else{for(var c=0;c<this.isSort.length;c++)this.isSort[c]=!1;this.isSort[e]=!0;for(var h=0;h<t.length;h++){var d=t[h],u=d.children[e].textContent||d.children[e].innerText;isNaN(u)?u.charAt(0).charCodeAt()>255?i.push(d):s.push(d):a.push(d)}i.sort(function(t,n){var r=t.children[e].textContent||t.children[e].innerText,i=n.children[e].textContent||n.children[e].innerText;return r.localeCompare(i,"zh-Hans-CN",{sensitivity:"accent"})}),s.sort(function(t,n){var r=t.children[e].textContent||t.children[e].innerText,i=n.children[e].textContent||n.children[e].innerText;return r.localeCompare(i)}),a.sort(function(t,n){return(t.children[e].textContent||t.children[e].innerText)-(n.children[e].textContent||n.children[e].innerText)});[].concat(a,s,i).forEach(function(e){r.el.tBodies[0].appendChild(e)}),this.theadEls.forEach(function(e){e.getElementsByTagName("span")[0].lastChild.className="",e.getElementsByTagName("span")[0].firstChild.className=""}),this.theadEls[e].getElementsByTagName("span")[0].lastChild.className="live"}}},{key:"sortRow",value:function(e){var t=Array.prototype.slice.call(this.el.tBodies[0].children,0);this[s].call(this,e,t)}},{key:"init",value:function(){var e=this;this.el.tBodies[0].getElementsByTagName("td");if("THEAD"!==this.el.firstElementChild.nodeName)throw new Error("不存在表头，请设置表头");this.theadEls.forEach(function(t,n){console.log("yes",n);var r=e,i=t.childNodes;e.isSort.push(!1);var s=document.createElement("div");s.className="cell";var l=document.createElement("span"),o=document.createElement("i"),c=document.createElement("i");l.appendChild(o),l.appendChild(c);for(var h=0;h<i.length;h++){var d=i[h];s.appendChild(d)}s.appendChild(l),t.appendChild(s),a(t,"click",function(e){e.preventDefault(),console.log("点击",n),r.sortRow(n)})}),"first"===this.el.dataset.sort&&this.sortRow(0)}}]),e}(),o=function(){function e(t){r(this,e);var n=document.querySelectorAll(t);if(0===n.length)throw new Error("没有指定元素类名");this.tbs=Array.prototype.slice.call(n,0),this.tbsExtract=[],this.init()}return i(e,[{key:"init",value:function(){var e=this;this.tbs.forEach(function(t){-1===t.className.indexOf("table__sort")&&(t.className=t.className+" table__sort");var n=new l(t);e.tbsExtract.push(n)})}}]),e}();t.default={Tables:o}},function(e,t){}])});